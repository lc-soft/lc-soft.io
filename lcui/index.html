---
layout: lcui_default
title: LCUI - 使用 C、XML 和 CSS 构建简单的跨平台桌面应用
is_home: true
task_types:
  project:
    name: 项目
    color: blue
    description: 这是一个独立项目开发计划
  issue:
    name: 问题
    color: green
    description: 这是一个需要解决的问题
task_levels:
  easy:
    name: 简单
    color: green
  medium:
    name: 中等
    color: orange
  hard:
    name: 困难
    color: red
rewards:
- title: LCUI 3.x 版本更新计划
  description: 该计划的目标是通过重新设计接口、统一代码风格、拆分子项目等手段来提高 LCUI 的质量和使用体验。其中子项目是结合历史遗留问题和新功能需求而采用最新开发技术开发的现代化项目，能被作为独立的函数库应用于其它项目之中，其提供的功能至少覆盖 LCUI 的全部使用场景。
  todos:
  - title: 重构
    description: 参考主流开源项目，重新制定 LCUI 的编码风格、源码目录结构、API 设计风格。
    bounty: 500
    type: issue
    level: easy
  - title: 基础工具库
    description: 参考 glib、tboox 等库，设计一个工具库，提供常用数据结构的操作函数、字符串处理函数。
    bounty: 500
    type: project
    level: easy
  - title: 布局引擎
    description: 参考 yoga 等布局引擎的设计，结合 LCUI 现有的布局需求，重构 LCUI 的布局引擎，使其变得更简单易用。
    bounty: 2000
    type: project
    level: hard
  - title: 文本排版引擎
    description: 重新设计文本层（TextLayer）模块，基于新的布局引擎实现文本排版，使其更简单易用高效。
    bounty: 500
    type: project
    level: medium
  - title: 2D 图形库
    description: 参考 cario、skia 等图形库的设计，设计一套简单易用的图形接口并重构 LCUI 现有的图形处理模块。
    bounty: 500
    type: project
    level: easy
  - title: 字体库
    description: 重构字体模块，使其具备更低的内存占用和更高的性能。
    bounty: 500
    type: project
    level: easy
- title: 其它待办任务
  description: 一些优先级不高的任务
  todos:
  - title: 重构定时器模块
    description: 改用面向对象模式代替单例模式，不再全局共用同一个定时器列表，允许开发者基于定时器接口实现一个定时器线程，以此摆脱 LCUI 主循环对定时器精度的影响。
    bounty: 100
    type: project
    level: easy
  - title: 支持编译为 WebAssembly 在浏览器中运行
    description: 参考 Qt、ImGui 等同类项目的 WebAssembly 支持方案，为 LCUI 添加相关的构建配置和支持模块，使得 LCUI 应用程序能够编译编译为 WebAssembly 在浏览器中运行。
    type: issue
    level: medium
    bounty: 1000
  - title: 改进组件增量更新机制
    description: 为了应对数十万量级的组件更新，保证界面的流畅度，现有的做法是统计组件的更新耗时然后为每帧更新的组件总量设置一个合适的限制，这种做法并不是最优的，可参考 React 的 Fiber reconciler 的架构，重新设计 LCUI 的组件增量更新机制。
    bounty: 1000
    type: issue
    level: medium
  - title: Android 平台适配
    description: 为 LCUI 添加适用于 Android 的驱动代码和编译构建脚本。
    bounty: 3000
    type: issue
    level: medium
  - title: 为 LCUI CLI 添加 XML 编译器
    description: LCUI 的 xml 文件解析功能是由 libxml 库提供支持的，为了缩减 LCUI 的库文件体积、提升用户界面的加载速度，我们可以在编译阶段将 xml 文件预先转换为 C 代码来使用。
    bounty: 200
    type: issue
    level: easy
  - title: 为 LCUI CLI 添加 CSS 编译器
    description: 集成 SASS 预处理器，支持对多个 scss 或 css 文件进行处理、合并和编译，其中的编译只是简单的将处理后的结果转换成 C 中的字符串代码，无需生成 LCUI_StyleSheet 对象的构造代码。
    bounty: 200
    type: issue
    level: easy
  - title: 添加表格布局支持
    description: 基于新的布局引擎添加表格布局支持，每列单元格等宽，每行单元格等高。
    bounty: 500
    type: issue
    level: easy
  - title: 重写 Trad 编译器
    description: 采用 JavaScript 编写，参考 babel、llvm 等同类项目来设计 Trad 编译器的架构。
    bounty: 2000
    type: project
    level: hard
  - title: CSS 引擎
    description: 参考主流的 CSS 库的设计，采用更严谨的标识符命名、更健壮可靠的架构，重构 LCUI 的 CSS 数据库和解析器。
    bounty: 2000
    type: project
    level: hard
summer2021_tasks:
- title: LCUI 的布局引擎开发
  description: LCUI 的布局引擎支持正常流布局和弹性盒子布局，它的工作流程是根据于每个 UI 组件中的样式和布局参数计算它们的几何属性，与 UI 组件模块有着较强的依赖关系。由于依赖关系的存在使得它不利于做单元测试，对其做单元测试必须先初始化 UI 组件模块，而且按照模块化设计思想，布局引擎应该设计成包含布局元素定义、布局参数定义和相关接口的独立模块，被 UI 组件模块单向依赖，UI 组件模块只需要负责将布局元素附加在 UI 组件上并管理好布局元素之间的关系和布局参数即可。出于这些问题的考虑，我们希望开发一个独立于 LCUI 项目的布局引擎来解决它们。
  level: 高
  mentor: 刘超
  requirements:
  - 调研 LCUI 源码中的布局引擎的功能需求和实现方式，完成需求分析报告文档
  - 调研 yoga、SnapKit 等开源的布局引擎，收集它们的特点、用法、设计风格等信息，整理成调研报告文档
  - 结合需求文档和调研报告文档，完成项目的 API 设计规范文档
  - 参考主流开源项目的 README.md 文档的写法，完成项目的自述文档
  - 添加单元测试，测试覆盖率达到 80% 以上，无内存访问越界、内存泄露等问题
  - 完成全部 API 的实现，代码编译无警告
  - 将 LCUI 的布局引擎替换为该布局引擎，通过 LCUI 的所有测试，无布局错乱等问题
  - 提供性能测试程序
  skills:
  - 熟悉 C 或 C++ 编程语言
  - 熟悉在 Linux 和 Windows 系统环境中开发
  - 熟悉常见数据结构和算法
  - 了解 Git 的基本用法
- title: LCUI 的 2D 图形库开发
  description: LCUI 的图形处理模块只支持绘制矩形、边框、盒形阴影以及透明度混合，考虑到以后的硬件加速支持、对接其它图形库、扩展更多图形绘制能力等需求，以及历史遗留代码较多、代码设计不严谨、扩展性较差等问题，我们希望开发一个独立于 LCUI 项目的 2D 图形库来解决它们。
  level: 中
  mentor: 刘超
  requirements:
  - 调研 LCUI 源码中的图形处理类函数的使用情况和需求，完成需求分析报告文档
  - 调研 cario、skia、OpenCV 等主流图形库，收集这些库的特点、用法、设计风格等信息，整理成调研报告文档
  - 结合需求文档和调研报告文档，完成项目的 API 设计规范文档
  - 参考主流开源项目的 README.md 文档的写法，完成项目的自述文档
  - 为每个功能模块添加单元测试，测试覆盖率达到 80% 以上，无内存访问越界、内存泄露等问题
  - 完成全部 API 的实现，代码编译无警告
  - 用该 2D 图形库代替 LCUI 原有图形模块，通过 LCUI 的所有测试，无渲染内容异常等问题
  - 提供性能测试程序，渲染性能不低于 LCUI 原有的图形模块
  skills:
  - 熟悉 C 或 C++ 编程语言
  - 熟悉在 Linux 和 Windows 系统环境中开发
  - 了解计算机图形学
  - 了解常见数据结构和算法
  - 了解 Git 的基本用法
- title: LCUI 的基础工具类函数库开发
  description: LCUI 项目中包含了数据结构、字符串、日志、时间、定时器、字符编码等实用类的函数，它们的设计风格和用法不统一，与 LCUI 头文件有较强的依赖，因此我们希望将这些函数分离到独立的项目中作为函数库来维护。
  level: 中
  mentor: 刘超
  requirements:
  - 调研 LCUI 源码中的基础工具类函数的使用情况和需求，完成需求分析报告文档
  - 调研 tbox、glib 常见开源工具类库，收集这些库的特点、用法、设计风格等信息，整理成调研报告文档
  - 结合需求文档和调研报告文档，完成项目的 API 设计规范文档
  - 参考主流开源项目的 README.md 文档的写法，完成项目的自述文档
  - 为每个功能模块添加单元测试，测试覆盖率达到 80% 以上，无内存访问越界、内存泄露等问题
  - 完成全部 API 的实现，代码编译无警告
  - 将 LCUI 内的工具类函数替换为该函数库的函数，通过 LCUI 的所有测试
  skills:
  - 熟悉在 Linux 和 Windows 系统环境中开发
  - 熟悉 C 或 C++ 编程语言
  - 了解常见数据结构和算法
  - 具备良好的文字表达能力
  - 了解 Git 的基本用法
---
<div class="jumbotron home-jumbotron">
  <div class="container">
    <div class="col-xs-12">
      <div class="logo"></div>
    </div>
    <div class="col-xs-12 text-center">
    <h1>LCUI</h1>
    <p>使用 C、XML 和 CSS 构建简单的跨平台桌面应用</p>
    <p class="jumbotron-button-group">
      <a class="btn btn-outline-inverse btn-lg" href="https://docs.lcui.lc-soft.io/">
        <span class="fa fa-book"></span> 快速上手
      </a>
      <a class="btn btn-outline-inverse btn-lg" href="https://github.com/lc-soft/LCUI/releases">
        <span class="fa fa-download"></span> 下载
      </a>
    </p>
    <div class="shameless-self-promotion">
      当前版本：2.2.0 &nbsp;&nbsp;·&nbsp;&nbsp;
      发布时间：2021-06-01 &nbsp;&nbsp;·&nbsp;&nbsp;
      <a href="https://github.com/lc-soft/LCUI">
        GitHub 仓库</a> &nbsp;&nbsp;·&nbsp;&nbsp;
      创建者：<a href="http://github.com/lc-soft">lc-soft</a>
    </div>
    </div>
  </div>
</div>
<div class="subtron" style="display: none;">
  <div class="container">
    <div id="lcui-milestone" class="lcui-milestone">
      <div class="lcui-milestore-progress">
        <span class="percent"></span>
      </div>
      <div class="lcui-milestone-main">
        <a class="link">LCUI: <span class="version"></pan></a>
        <p class="text-muted">
          本月累计推送 <strong class="commits"></strong> 次提交，代码共增加 <strong class="addtions"></strong> 行，删除 <strong class="deletions"></strong> 行
        </p>
      </div>
      <a id="btn-contribute" class="btn btn-primary btn-lg" href="#contribute"><span class="fa fa-bolt"></span> 加速</a>
    </div>
  </div>
</div>
</section>
<section id="features" class="section project-features">
  <div class="container">
    <div class="row md-flex flex-items-center proejct-overview-box">
      <div class="col-xs-12 col-sm-6">
        <div id="lcui-example" class="horiz-split-box">
          <div class="cover">
            <div class="content">
              <div>
                <div id="text-hello">Hello, World!</div>
              </div>
              <input type="text" id="input-hello" class="form-control" value="Hello, World!">
              <button id="btn-hello" class="btn btn-default">Submit</button>
            </div>
          </div>
          <div class="content">
<figure class="highlight">
<pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="nt">&lt;lcui-app&gt;</span>
  <span class="nt">&lt;resource</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
    <span class="nf">#text-hello</span> <span class="p">{</span>
      <span class="k">color</span><span class="o">:</span> <span class="m">#8cc63f</span><span class="p">;</span>
      <span class="k">padding</span><span class="o">:</span> <span class="m">25px</span><span class="p">;</span>
      <span class="k">margin</span><span class="o">:</span> <span class="m">25px</span><span class="p">;</span>
      <span class="k">border</span><span class="o">:</span> <span class="m">1px</span> <span class="k">solid</span> <span class="m">#000</span><span class="p">;</span>
      <span class="k">background-color</span><span class="o">:</span> <span class="m">#fafafa</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nf">#btn-hello</span><span class="o">,</span> <span class="nf">#input-hello</span> <span class="p">{</span>
      <span class="k">margin</span><span class="o">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">25px</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="nt">&lt;/resource&gt;</span>
  <span class="nt">&lt;ui&gt;</span>
    <span class="nt">&lt;widget</span> <span class="na">id=</span><span class="s">"text-hello"</span> <span class="na">type=</span><span class="s">"textview"</span><span class="nt">&gt;</span>Hello, World!<span class="nt">&lt;/widget&gt;</span>
    <span class="nt">&lt;widget</span> <span class="na">id=</span><span class="s">"input-hello"</span> <span class="na">type=</span><span class="s">"textedit"</span><span class="nt">&gt;</span>Hello, World!<span class="nt">&lt;/widget&gt;</span>
    <span class="nt">&lt;widget</span> <span class="na">id=</span><span class="s">"btn-hello"</span> <span class="na">type=</span><span class="s">"button"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/widget&gt;</span>
  <span class="nt">&lt;/ui&gt;</span>
<span class="nt">&lt;/lcui-app&gt;</span>
</code></pre></figure>
          </div>
          <div class="toggle-handle">
            <div class="toggle-handle-button">
              <i class="fa fa-bars"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="project-overview col-xs-12 col-sm-6">
        <h2>概述</h2>
        <p>LCUI 是一个用 C 编写的图形界面开发库，你可以用 C、XML 和 CSS 创建简单的桌面应用，包括传统的 Win32 桌面应用、Windows 通用应用，目前主要支持 Windows 系统，后续版本将会完善对 Linux 系统的支持。</p>
        <p>如果你在熟悉 C 语言的基础上还具备网页开发经验，那么在使用 LCUI 时会更容易上手，因为 LCUI 对 XML、CSS 以及元素布局等的处理方式和浏览器有一些相似的地方，你可以参考左侧的示例代码了解大致效果。</p>
      </div>
    </div>
    <div class="row">
      <div class="project-feature col-xs-12 col-sm-4">
        <span class="fa fa fa-pencil project-feature-icon"></span>
        <h3><span class="fa fa fa-pencil project-feature-icon"></span> C语言编写</h3>
        <p class="text-muted">适用于体积较小且主要使用C语言实现的应用程序，以及偏向使用C语言编写简单应用的开发者。</p>
      </div>
      <div class="project-feature col-xs-12 col-sm-4">
        <span class="fa fa-file-code-o project-feature-icon"></span>
        <h3><span class="fa fa-file-code-o project-feature-icon"></span> XML + CSS</h3>
        <p class="text-muted">支持使用 XML 和 CSS 描述界面布局及样式，节省界面开发时间和维护成本。</p>
      </div>
      <div class="project-feature col-xs-12 col-sm-4">
        <span class="fa fa-cogs project-feature-icon"></span>
        <h3><span class="fa fa-cogs project-feature-icon"></span> 跨平台</h3>
        <p class="text-muted">支持 Windows 和 GNU/Linux 系统，可以编写 Windows 桌面应用和通用应用，以及 Linux 桌面应用。</p>
      </div>
    </div>
  </div>
</section>
<section id="get-started" class="section project-get-started">
  <div class="container">
    <div class="section-header">
      <h2>快速上手</h2>
    </div>
    <div class="row">
      <div class="col col-md-6">
        <p>
          最简单方式是使用
          <a href="https://github.com/lc-ui/lcui-cli">lcui-cli</a>
          命令行工具创建一个 LCUI 项目，然后试着编译和运行它，看看 LCUI 是怎样运转的，但在使用 lcui-cli 之前你需要在计算机上安装以下工具：
        </p>
        <ul>
            <li><a href="https://git-scm.com/downloads">Git</a></li>
          <li><a href="https://nodejs.org/">Node.js</a></li>
          <li><a href="https://github.com/lc-soft/lcpkg">LCPkg</a></li>
          <li><a href="https://cmake.org/" rel="nofollow">CMake</a> 或 <a href="https://xmake.io/" rel="nofollow">XMake</a></li>
        </ul>
        仅仅一个示例应用还不够？可以试试专为 LCUI 打造的 <a href="https://github.com/lc-ui/lc-design">LC Design</a> 组件库。
      </div>
      <div class="col col-md-6">
<pre class="bash-code-block"><code><span class="pl-c"><span class="pl-c">#</span> 安装 lcui-cli</span>
npm install -g @lcui/cli

<span class="pl-c"><span class="pl-c">#</span> 创建一个名为 myapp 的 LCUI 项目</span>
lcui create myapp

<span class="pl-c"><span class="pl-c">#</span> 进入项目目录</span>
cd myapp

<span class="pl-c"><span class="pl-c">#</span> 运行这个项目</span>
npm run start</code></pre>
  </div>
      </div>
    </div>
</section>
<section id="demo-screenshorts" class="section project-screenshorts">
  <div class="container">
    <div class="section-header">
      <h2>样例展示</h2>
      <p class="text-muted">一些 LCUI 应用程序的效果图</p>
    </div>
    <div class="row">
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/screenshot-lcui-hello.png">
          <img src="/static/images/showcase/screenshot-lcui-hello.png" alt="Hello, World!"/>
        </a>
      </div>
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/lc-design-docs-preview.gif">
          <img src="/static/images/showcase/lc-design-docs-preview.gif" alt="LC Design 组件库"/>
        </a>
      </div>
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/lc-design-example-preview.png">
          <img src="/static/images/showcase/lc-design-example-preview.png" alt="LC Design 组件库示例程序"/>
        </a>
      </div>
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/lcfinder-001.jpg">
          <img src="/static/images/showcase/lcfinder-001.jpg" alt="LC-Finder 效果图-001"/>
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/lcfinder-002.jpg">
          <img src="/static/images/showcase/lcfinder-002.jpg" alt="LC-Finder 效果图-002" />
        </a>
      </div>
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/lcfinder-003.jpg">
          <img src="/static/images/showcase/lcfinder-003.jpg" alt="LC-Finder 效果图-003"/>
        </a>
      </div>
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/lcfinder-004.jpg">
          <img src="/static/images/showcase/lcfinder-004.jpg" alt="LC-Finder 效果图-004"/>
        </a>
      </div>
      <div class="col-xs-6 col-md-3">
        <a class="thumbnail" href="/static/images/showcase/lcfinder-005.jpg">
          <img src="/static/images/showcase/lcfinder-005.jpg" alt="LC-Finder 效果图-005"/>
        </a>
      </div>
    </div>
  </div>
  <div class="loved-by container">
    <h3>
      <span class="icon fa fa-heart"></span>
      受到地球上的一些人和公司的喜爱
    </h3>
    <h4 class="quote active text-muted">
      <span class="fa fa-quote-left"></span>
      LCUI 解决了许多复杂的问题，得益于 XML 和 CSS 支持，大大的减少了应用程序的界面开发与维护成本，我只需要为界面编写一次代码就能让我的应用在多个平台上呈现一致的界面效果，这使得我能够轻松的为我的应用开发适用于 Windows 通用平台（UWP）的版本，不用再去另外学习 UWP 应用的界面开发技术。目前主要是支持 Windows 平台，期待以后增加其它平台的适配。
      <span class="fa fa-quote-right"></span>
    </h4>
    <ul class="quotees">
      <li class="active">
        <div class="avatar-box">
          <a class="logo" href="https://github.com/lc-soft/LC-Finder">
            <img alt="LC's Finder" src="/static/images/lc-finder-badge.png">
          </a>
          <img class="avatar" alt="Liu" src="https://avatars0.githubusercontent.com/u/1730073?v=3&amp;s=128">
        </div>
        <div class="content">
          <strong>Liu Chao</strong>
          <span class="text-muted"><a href="https://lcfinder.lc-soft.io">LC's Finder</a> 的作者</span>
        </div>
      </li>
    </ul>
  </div>
</section>
<section id="contribute" class="section project-contribute">
  <div class="container">
    <div class="section-header">
      <h2>参与贡献</h2>
      <p class="text-muted">开源的意义在于大家都可以以各种形式帮助项目发展</p>
    </div>
    <div class="card-container">
      <div class="card card-star">
        <span class="icon fa fa-thumbs-o-up"><span class="count"></span></span>
        <h3><a href="https://github.com/lc-soft/LCUI/stargazers">默默点赞</a></h3>
        <p>访问 GitHub 上的 LCUI 代码库主页并为 LCUI 贡献一颗星，虽然这样做看上去没多大作用，但或许在以后能够为作者的职业生涯和 LCUI 的发展提供无形的帮助。</p>
      </div>
      <div class="card card-bug">
        <span class="icon fa fa-bug"><span class="count"></span></span>
        <h3><a href="https://github.com/lc-soft/LCUI/issues">反馈问题</a></h3>
        <p>测试是最容易参与项目开发活动的一种方式，帮助作者测试现有功能和相关应用程序，以便作者及早发现缺陷并处理它。</p>
      </div>
    </div>
    <div class="card-container">
      <div class="card card-watch">
        <span class="icon fa fa-eye"><span class="count"></span></span>
        <h3><a href="https://github.com/lc-soft/LCUI/watchers">关注进展</a></h3>
        <p>你可以在 GitHub 上关注 LCUI 项目，每当项目有新的动态都能够及时收到通知，如果你是开发者，或许能够帮助审查新提交的代码、发现潜在的 BUG，或者也可以帮助其他用户解决常见问题。</p>
      </div>
      <div class="card card-code">
        <span class="icon fa fa-code"></span>
        <h3><a href="https://github.com/lc-soft/LCUI/pulls">贡献代码</a></h3>
        <p>项目在开发过程中会有很多新的功能需求，每次代码改动都有可能留下新的 BUG，如果你发现某个功能需求或 BUG 是你能够轻松解决的，可以向 LCUI 贡献你的解决方案。</p>
      </div>
    </div>
    <div class="card-container">
      <div class="card card-document">
        <span class="icon fa fa-book"></span>
        <h3><a href="https://github.com/lc-ui/LCUI-Guide">完善文档</a></h3>
        <p>现有的 LCUI 相关文档还很少，你可以通过撰写新内容、帮助完善已有内容，或者将现有的文档翻译为新语种以完善 LCUI 的文档。</p>
      </div>
      <div class="card card-donate">
        <span class="icon fa fa-yen"></span>
        <h3><a href="https://beerpay.io/lc-soft/LCUI">资金支持</a></h3>
        <p>如果你有一些开发需求并愿意支付一定报酬，可以选择在 <a href="https://beerpay.io/lc-soft/LCUI">Beerpay</a> 或 <a href="https://issuehunt.io/r/lc-soft/LCUI">IssueHunt</a> 上为其设置悬赏，这样能够吸引更多的贡献者参与进来，以提高项目的活跃度。</p>
      </div>
    </div>
  </div>
</section>
<section id="pricing" class="section project-pricing">
  <div class="container">
    <div class="section-header">
      <h2>授权与定价</h2>
      <p class="text-muted">以另一种方式让 LCUI 得到更积极的维护和更新</p>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-6">
        <div class="panel pricing-panel pricing-panel-free" data-target="free">
          <div class="panel-heading">
            <h4 class="panel-title text-center">社区版</h4>
          </div>
          <div class="panel-body">
            <div class="text-center">
              <i class="panel-logo fa fa-paper-plane-o"></i>
              <p class="price-text">
                <b class="price-text-focus">免费</b>
              </p>
              <p class="text-muted">适用于普通小项目</p>
              <a href="https://github.com/lc-soft/LCUI/blob/develop/LICENSE.TXT" target="_blank" class="btn btn-outline">查看许可协议</a>
            </div>
            <hr />
            <ul class="list-unstyled">
              <li>社区支持</li>
              <li>允许在闭源软件中使用</li>
              <li class="disabled">提供官方技术支持</li>
              <li class="disabled">提升已反馈的 BUG 的可见度和优先级</li>
              <li class="disabled">提供 BUG 修复或临时解决方案</li>
              <li class="disabled">在文档和网站中展示你的信息</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6">
        <div class="panel pricing-panel pricing-panel-advance" data-target="advance">
          <div class="panel-heading">
            <h4 class="panel-title text-center">商业版</h4>
          </div>
          <div class="panel-body">
            <div class="text-center">
              <i class="panel-logo fa fa-rocket"></i>
              <p class="price-text">
                &emsp;&emsp;&emsp;<span class="price-text-focus">￥<b>2,560</b></span>
                /人/月
              </p>
              <p class="text-muted">适用于需要可靠技术支持的项目</p>
              <a href="mailto:lc-soft@live.cn" class="btn btn-outline">购 买</a>
            </div>
            <hr />
            <ul class="list-unstyled">
              <li>社区支持</li>
              <li>允许在闭源软件中使用</li>
              <li>提供官方技术支持</li>
              <li>提升已反馈的 BUG 的可见度和优先级</li>
              <li>提供 BUG 修复或临时解决方案*</li>
              <li>在文档和网站中展示你的信息</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <p class="text-muted text-center">* 在合理努力的情况下，并不是每个 BUG 都可以作为技术支持中的一部分来解决</p>
  </div>
</section>
<section id="joinus">
  <div class="container">
    <div class="section-header">
      <h2>贡献者激励计划</h2>
      <p class="text-muted">本计划旨在为 LCUI 中的一些待办任务提供初始赏金来吸引志同道合的开发者成为贡献者以加快 LCUI 的更新速度</p>
    </div>
    <div class="row">
      {% for group in page.rewards %}
        <div class="col-md-6 col-sm-12">
          <div class="reward-board">
            <div class="reward-board-header">
              <div class="reward-board-title">{{ group.title }}</div>
              <div class="reward-board-count">{{ group.todos | size }}</div>
            </div>
            <div class="reward-board-body">
              {% for task in group.todos %}
                <div class="reward-task">
                  <div class="reawrd-task-header">
                    <div class="reward-task-title">
                      {{ task.title }}
                    </div>
                  </div>
                  <div class="reward-task-description text-muted">
                    {{ task.description }}
                  </div>
                  <div class="reward-task-meta">
                    <div class="reward-task-labels">
                      {% assign label = page.task_types[task.type] %}
                      <span class="reward-task-label {{ label.color }}" title="{{label.description}}">
                        {% if task.type == 'project' %}
                          {% octicon repo %}
                        {% else %}
                          {% octicon issue-opened :height => 14 %}
                        {% endif %}
                        {{ label.name }}</span>
                      {% assign label = page.task_levels[task.level] %}
                      <span class="reward-task-label {{ label.color }}" title="难度：{{label.name}}">{{ label.name }}</span>
                    </div>
                    <strong class="reward-task-bounty">{{ task.bounty }}</strong>
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    {% include lcui_reward_faq.html %}
    {% include lcui_summer2021.html %}
  </div>
</section>

<script src="/static/js/abigimage.jquery.min.js"></script>
<script src="/static/js/circle-progress.min.js"></script>
<script src="/static/js/horiz-split-box.js"></script>
<script type="text/javascript">
function kFormatter(num) {
  return num > 999 ? parseFloat((num/1000).toFixed(1)) + 'k' : num;
}

$('.thumbnail').abigimage({
  onopen: function(target) {
    this.bottom.html($('img', target).attr('alt'));
  }
});

$.getJSON('https://api.github.com/repos/lc-soft/LCUI', function (data) {
  $('.card.card-star .count').text(kFormatter(data.stargazers_count)).css('opacity', 1);
  $('.card.card-watch .count').text(kFormatter(data.subscribers_count)).css('opacity', 1);
  if (data.open_issues_count > 0) {
    $('.card.card-bug .count').text(kFormatter(data.open_issues_count)).css('opacity', 1);
  }
});

function formatNumber(number) {
  return number.toString().replace(/\B(?=(?:\d{3})+\b)/g, ',');
}

$.when(
  $.getJSON('https://api.github.com/repos/lc-soft/LCUI/milestones'),
  $.getJSON('https://api.github.com/repos/lc-soft/LCUI/stats/contributors')
).done(function (data1, data2) {
  if (data2[1] !== 'success' || data1[0].length == 0) {
    return;
  }
  var milestone = data1[0][0];
  var $milestone = $('#lcui-milestone');
  var total_issues = milestone.open_issues + milestone.closed_issues;
  var completion = 1.0 - milestone.open_issues / total_issues;
  var commits = 0, addtions = 0, deletions = 0;

  if (data2[1] === 'success') {
    var contributors = data2[0];
    for (var i = 0; i < contributors.length; ++i) {
      var weeks = contributors[i].weeks;
      var curtime = new Date(weeks[weeks.length - 1].w * 1000);
      for (var j = weeks.length - 1; j >= weeks.length - 5; --j) {
        var week = weeks[j];
        var time = new Date(week.w * 1000);
        if (time.getMonth() < curtime.getMonth()) {
          break;
        }
        addtions += week.a;
        deletions += week.d;
        commits += week.c;
      }
    }
  }
  $milestone.find('.version').text(milestone.title);
  $milestone.find('.addtions').text(formatNumber(addtions));
  $milestone.find('.deletions').text(formatNumber(deletions));
  $milestone.find('.commits').text(formatNumber(commits));
  $milestone.find('.link').attr('href', milestone.html_url);
  $milestone.parents('.subtron').slideDown();
  $('.lcui-milestore-progress').circleProgress({
    value: completion,
    size: 48,
    fill: {
      gradient: ['#7cb75e', '#54853c']
    }
  }).on('circle-animation-progress', function(event, progress) {
    var percent = parseInt(completion * progress * 100);
    $(this).find('.percent').html(percent + '<i>%</i>');
  });
});

$(document).ready(function() {
  $('#lcui-example').horizSplitBox();
  $('#btn-hello').on('click', function () {
    $('#text-hello').text($('#input-hello').val());
  });

});
</script>
